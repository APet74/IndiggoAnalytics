<!--
Contains a daterange picker, radio buttons for selecting the view type and the code for each metric. Again, the area
that contains the structure for the 4 metrics could simplified to a child component and remove redundant code
-->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-content pl-1">
        <div class="row">
          <div class="col-lg-4 col-md-12 ">
            <mat-form-field appearance="fill">
              <mat-label>Enter a date range</mat-label>
              <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                <input matStartDate formControlName="start" placeholder="Start date">
                <input matEndDate  formControlName="end" placeholder="End date">
              </mat-date-range-input>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
          </div>
          <div class="col-lg-8 col-md-12 pt-2 pb-1">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-secondary active">
                <input type="radio" name="options" id="option1" autocomplete="off" (click)="onRadioChange(0)" checked> Regular
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option2" autocomplete="off" (click)="onRadioChange(1)"> Organic
              </label>
              <label class="btn btn-secondary">
                <input type="radio" name="options" id="option3" autocomplete="off" (click)="onRadioChange(2)"> All
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12">
    <div class="card">
      <div class="card-content">
        <div class="row">
          <div class="col-lg-2 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
            <div class="p-1 text-center">
              <div class="card-content">
                <ul class="list-inline clearfix">
                  <li class="border-right-blue-grey border-right-lighten-2 pr-2" *ngIf="viewType == 0 || viewType == 2">
                    <h1 class="primary text-bold-400">{{users.length != 0 ? userMetricSum : 0 }}</h1>
                    <span class="blue-grey darken-1"><i class="icon-like"></i> Users</span>
                  </li>
                  <li class="pl-2" *ngIf="viewType == 1 || viewType == 2">
                    <h1 class="primary text-bold-400">{{oUsers.length != 0 ? oUsersMetricSum : 0}}</h1>
                    <span class="blue-grey darken-1"><i class="icon-dislike"></i> Organic Users</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-10 col-md-12 col-sm-12">
            <app-analyticChart [analyticObj]="users" [oAnalyticObj]="oUsers" [view]="viewType"></app-analyticChart>
          </div>
        </div>
      </div>
    </div>
  </div>
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="card">
        <div class="card-content">
          <div class="row">
            <div class="col-lg-2 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
              <div class="p-1 text-center">
                <div class="card-content">
                  <ul class="list-inline clearfix">
                    <li class="border-right-blue-grey border-right-lighten-2 pr-2" *ngIf="viewType == 0 || viewType == 2">
                      <h1 class="primary text-bold-400">{{newUsers.length != 0 ? newUsersMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-like"></i> New Users</span>
                    </li>
                    <li class="pl-2" *ngIf="viewType == 1 || viewType == 2">
                      <h1 class="primary text-bold-400">{{oNewUsers.length != 0 ? oNewUsersMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-dislike"></i> Organic New Users</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-10 col-md-12 col-sm-12">
              <app-analyticChart [analyticObj]="newUsers" [oAnalyticObj]="oNewUsers" [view]="viewType"></app-analyticChart>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="card">
        <div class="card-content">
          <div class="row">
            <div class="col-lg-2 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
              <div class="p-1 text-center">
                <div class="card-content">
                  <ul class="list-inline clearfix">
                    <li class="border-right-blue-grey border-right-lighten-2 pr-2" *ngIf="viewType == 0 || viewType == 2">
                      <h1 class="primary text-bold-400">{{sessions.length != 0 ? sessionMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-like"></i> Sessions</span>
                    </li>
                    <li class="pl-2" *ngIf="viewType == 1 || viewType == 2">
                      <h1 class="primary text-bold-400">{{oSessions.length != 0 ? oSessionMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-dislike"></i> Organic Sessions</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-10 col-md-12 col-sm-12">
              <app-analyticChart [analyticObj]="sessions" [oAnalyticObj]="oSessions" [view]="viewType"></app-analyticChart>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="card">
        <div class="card-content">
          <div class="row">
            <div class="col-lg-2 col-md-12 col-sm-12 border-right-blue-grey border-right-lighten-5">
              <div class="p-1 text-center">
                <div class="card-content">
                  <ul class="list-inline clearfix">
                    <li class="border-right-blue-grey border-right-lighten-2 pr-2" *ngIf="viewType == 0 || viewType == 2">
                      <h1 class="primary text-bold-400">{{pageViews.length != 0 ? pageviewsMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-like"></i> Page Views</span>
                    </li>
                    <li class="pl-2" *ngIf="viewType == 1 || viewType == 2">
                      <h1 class="primary text-bold-400">{{oPageViews.length != 0 ? oPageviewsMetricSum : 0}}</h1>
                      <span class="blue-grey darken-1"><i class="icon-dislike"></i> Organic Page Views</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-10 col-md-12 col-sm-12">
              <app-analyticChart [analyticObj]="pageViews" [oAnalyticObj]="oPageViews" [view]="viewType"></app-analyticChart>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>


